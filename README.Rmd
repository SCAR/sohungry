---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# sohungry

[![Travis-CI Build Status](https://travis-ci.org/SCAR/sohungry.svg?branch=master)](https://travis-ci.org/SCAR/sohungry)
[![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/SCAR/sohungry?branch=master&svg=true)](https://ci.appveyor.com/project/SCAR/sohungry)

Overview
--------

This R package provides access to the SCAR Southern Ocean Diet and Energetics Database: see http://data.aad.gov.au/trophic/.


Installing
----------

```{r, eval=FALSE}
install.packages("devtools")
library(devtools)
install_github("SCAR/sohungry")
```

Usage
-----

```{r, message=FALSE, warning=FALSE}
library(sohungry)
library(dplyr)
```

Load the desired dataset using `so_isotopes()` or `so_diet()`. Note that these read the data from the server (or cache, depending on caching settings). For fastest performance should probably be called once per session and kept in memory.
Load the stable isotope data:
```{r, message=FALSE}
xi <- so_isotopes()
```

Filter to taxon of interest:
```{r, message=FALSE}
xi %>% filter(taxon_name=="Electrona carlsbergi") %>% select(delta_13c_mean,delta_15n_mean)
```

Load the diet data (stomach content analyses and similar):
```{r, message=FALSE}
x <- so_diet()
```

A summary of what *Electrona carlsbergi* eats:
```{r, message=FALSE}
x %>% filter_by_predator_name("Electrona carlsbergi") %>% diet_summary(summary_type="prey")
```

And what eats *Electrona carlsbergi*:
```{r, message=FALSE}
x %>% filter_by_prey_name("Electrona carlsbergi") %>% diet_summary(summary_type="predators")
```
